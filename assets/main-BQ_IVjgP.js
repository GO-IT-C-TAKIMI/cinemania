(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const m of e)if(m.type==="childList")for(const s of m.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const m={};return e.integrity&&(m.integrity=e.integrity),e.referrerPolicy&&(m.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?m.credentials="include":e.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(e){if(e.ep)return;e.ep=!0;const m=a(e);fetch(e.href,m)}})();function O(){const n=window.location.pathname,o=document.querySelectorAll("#header-links a"),a=document.querySelector(".menu-button"),i=document.querySelector(".responsive-overlay"),e=document.querySelector(".responsive-menu"),m=document.querySelector("body");let s=!1;a.addEventListener("click",()=>{e.classList.add("active-responsive-menu"),i.classList.add("active-overlay"),m.style.overflow="hidden",s=!0}),document.addEventListener("click",f=>{s&&!e.contains(f.target)&&!a.contains(f.target)&&(e.classList.remove("active-responsive-menu"),i.classList.remove("active-overlay"),m.style.overflow="auto",s=!1)}),window.addEventListener("resize",()=>{s&&(e.classList.remove("active-responsive-menu"),i.classList.remove("active-overlay"),m.style.overflow="auto",s=!1)}),o.forEach(f=>{new URL(f.getAttribute("href"),window.location.origin).pathname===n&&f.classList.add("active-link")})}function U(n){const o="3e7bd78082a78694a13d5e52c5addee0",a=document.querySelector(".popup-section-container"),i=document.querySelector(".popup-section"),e=document.querySelector(".close-btn"),m=document.querySelector("body"),s=document.querySelector(".afis-img"),f=document.querySelector(".film-title"),w=document.querySelector(".average-rating"),u=document.querySelector(".vote-count"),v=document.querySelector(".genre"),k=document.querySelector(".popularity"),l=document.querySelector(".film-about-desc");(async()=>{g();try{const h=await(await fetch(`https://api.themoviedb.org/3/movie/${n}?api_key=${o}&language=en-US`)).json();c(h)}catch(r){console.error("Error fetching details:",r)}})();function c(r){s.src=`https://image.tmdb.org/t/p/original/${r.poster_path}`,f.textContent=r.title,w.textContent=r.vote_average,u.textContent=r.vote_count,k.textContent=r.popularity.toFixed(1),v.textContent=r.genres.map(p=>p.name).join(", "),l.textContent=r.overview;let h=!1;function E(){a.classList.add("hidden"),m.style.overflow="auto",h=!1,document.removeEventListener("click",S),document.removeEventListener("keydown",x),e.removeEventListener("click",I)}function S(p){h&&!i.contains(p.target)&&E()}function I(p){h&&E()}function x(p){h&&p.key==="Escape"&&E()}a.classList.contains("hidden")||(h=!0,document.addEventListener("click",S),document.addEventListener("keydown",x),e.addEventListener("click",I))}function g(){s.src="loading-placeholder.png",f.textContent="Loading...",w.textContent="",u.textContent="",k.textContent="",v.textContent="",l.textContent="Fetching details, please wait..."}}function $(n){const o=[{name:"fullStar",svg:`<svg width="24" height="24" class="star-icon-full">
                  <use class="full-star" href="svg/symbol-defs.svg#icon-star-outline"></use>
                </svg>`},{name:"halfStar",svg:`<svg width="24" height="24" class="star-icon-half">
                  <use href="svg/symbol-defs.svg#icon-star-half"></use>
                </svg>`},{name:"emptyStar",svg:`<svg width="24" height="24" class="star-icon-empty">
                  <use href="svg/symbol-defs.svg#icon-star-outline"></use>
                </svg>`}],a=5,i=Math.floor(n/2),e=n%2>=.5,m=a-i-(e?1:0);if(n===0)return"NOT RELEASED YET";const s=o.find(v=>v.name==="fullStar").svg,f=o.find(v=>v.name==="halfStar").svg,w=o.find(v=>v.name==="emptyStar").svg;let u=s.repeat(i);return e&&(u+=f),u+=w.repeat(m),u}function R(n){let o=JSON.parse(localStorage.getItem("myLibrary"))||[];o.includes(n)||(o.push(n),localStorage.setItem("myLibrary",JSON.stringify(o)),T(!0,n))}function A(n){const o=window.location.pathname;let a=JSON.parse(localStorage.getItem("myLibrary"))||[];a=a.filter(i=>i!==n),localStorage.setItem("myLibrary",JSON.stringify(a)),T(!1,n),o==="/mylibrary.html"&&(z(n),K())}function z(n){const o=document.querySelector(`[data-movie-id="${n}"]`);o&&o.remove();const a=JSON.parse(localStorage.getItem("myLibrary"))||[],i=document.querySelector("#catalog-movie-gallery");a.length===0&&(i.innerHTML="<p>Your library is empty.</p>")}function K(){const n=document.querySelector(".popup-section-container");n&&(n.classList.add("hidden"),document.body.style.overflow="auto")}function P(n){return(JSON.parse(localStorage.getItem("myLibrary"))||[]).includes(n)}function T(n,o){const a=document.querySelectorAll(".add-btn"),i=document.querySelectorAll(".remove-btn");n?(a.forEach(e=>e.classList.add("hidden")),i.forEach(e=>e.classList.remove("hidden"))):(a.forEach(e=>e.classList.remove("hidden")),i.forEach(e=>e.classList.add("hidden"))),a.forEach(e=>e.onclick=()=>R(o)),i.forEach(e=>e.onclick=()=>A(o))}function V(n){const o=document.getElementById("upcoming-add-btn"),a=document.getElementById("upcoming-remove-btn");function i(){P(n)?(o.classList.add("hidden"),a.classList.remove("hidden")):(o.classList.remove("hidden"),a.classList.add("hidden"))}o.onclick=()=>{R(n),i()},a.onclick=()=>{A(n),i()},i()}function N(){const n="3e7bd78082a78694a13d5e52c5addee0",o=window.location.pathname,a=document.getElementById("movies-image-container"),i=document.getElementById("movies-description-container"),e=document.querySelector(".popup-section-container"),m=document.querySelector("body"),s=()=>{o==="/"||o==="/catalog.html"?(a.innerHTML='<img class="image" src="./img/stranger_things.jpeg"/>',i.innerHTML=`
        <h1 class="hero-movie-title">Let's Make Your Own Cinema</h1>
        <div class="desc-button-container">
          <p class="hero-movie-desc">Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.</p>
          <div class="hero-movie-buttons">
            <button class="orange-button btn-hero trailer">Get Started</button>
          </div>
        </div>
      `):(a.innerHTML='<img class="image" src="./img/seats.png"/>',i.innerHTML=`
        <h1 class="hero-movie-title">Create Your Dream Cinema</h1>
        <div class="desc-button-container">
          <p class="hero-movie-desc"> Is a guide to designing a personalized movie theater experience with the right equipment, customized decor, and favorite films. This guide helps you bring the cinema experience into your own home with cozy seating, dim lighting, and movie theater snacks.</p>
        </div>
      `)},f=async()=>{try{const u=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=${n}&language=en-US`);if(!u.ok)throw s(),new Error("Failed to fetch trending movies");const l=(await u.json()).results.filter(c=>new Date(c.release_date).getFullYear()>=2024),t=l[Math.floor(Math.random()*l.length)];w(t)}catch(u){console.error("Error fetching trending movies:",u)}},w=async u=>{try{const k=await(await fetch(`https://api.themoviedb.org/3/movie/${u.id}/images?&api_key=${n}&language=en&language=null`)).json(),l=k.backdrops[Math.floor(Math.random()*k.backdrops.length)],t=u.overview.split(" ").slice(0,40).join(" ");a.innerHTML+=`<img class="image" src="https://image.tmdb.org/t/p/original${l.file_path}" />`,i.innerHTML+=`
        <h1 class="hero-movie-title">${u.title}</h1>
        <div class="stars-container" id="starsContainer"></div>
        <div class="desc-button-container">
          <p class="hero-movie-desc">${t}...</p>
          <div class="hero-movie-buttons">
            <button id="trailer" class="orange-button btn-hero trailer">Watch trailer</button>
            <button id="details" class="white-button btn-hero details">More details</button>
          </div>
        </div>
      `,starsContainer.innerHTML=$(u.vote_average);const c=document.getElementById("trailer"),g=document.getElementById("details");$(u.vote_average),g.addEventListener("click",()=>{e.classList.remove("hidden"),m.style.overflow="hidden";const r=u.id;U(r);const h=P(r);T(h,r)}),c.addEventListener("click",async()=>{modal.innerHTML="";try{const E=(await(await fetch(`https://api.themoviedb.org/3/movie/${u.id}/videos?api_key=${n}&language=en-US`)).json()).results.find(S=>S.type==="Trailer"||S.type==="Teaser");E?modal.innerHTML+=`<iframe src="https://www.youtube.com/embed/${E.key}" allowfullscreen></iframe>`:modal.innerHTML+="<p>No trailer available</p>"}catch(r){console.error("Error fetching trailer:",r),modal.innerHTML+="<p>Error loading trailer</p>"}})}catch(v){console.error("Error displaying movie:",v)}};f()}async function G(){const n="3e7bd78082a78694a13d5e52c5addee0",o="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key="+n,a="https://image.tmdb.org/t/p/w500";let i="",e="";const m=window.location.pathname,s=m.includes("catalog"),f=document.getElementById("catalog-movie-gallery"),w=s?document.getElementById("prevPageBtn"):null,u=s?document.getElementById("nextPageBtn"):null,v=s?document.querySelector(".page-numbers"):null,k=s?document.getElementById("searchButton"):null,l=s?document.getElementById("movieYear"):null;let t=1,c={},g=100;async function r(){const p=`https://api.themoviedb.org/3/genre/movie/list?api_key=${n}&language=en-US`;try{c=(await(await fetch(p)).json()).genres.reduce((C,d)=>(C[d.id]=d.name,C),{})}catch(y){console.error("Error fetching genres:",y)}}async function h(p=1,y="",M=""){const C=Math.ceil(p*9/20);let d=`${o}&page=${C}`;y&&!M?d=`https://api.themoviedb.org/3/search/movie?query=${y}&api_key=${n}&page=${C}`:y&&M&&(d=`https://api.themoviedb.org/3/search/movie?api_key=${n}&query=${y}&primary_release_year=${M}&page=${C}`);try{const b=await(await fetch(d)).json();if(m.includes("catalog")){const B=(p-1)%2*9,_=b.results.slice(B,B+9);E(_)}else{const B=(p-1)%2*3,_=b.results.slice(B,B+3);E(_)}return s&&(g=Math.min(b.total_pages,1e3),S()),b}catch(L){console.error("Error fetching movies:",L)}}function E(p){f.innerHTML="",p.forEach(d=>{const L=document.createElement("div");L.classList.add("catalog-movie-card"),L.dataset.movieId=d.id;const b=document.createElement("img");b.src=a+d.poster_path,b.alt=d.title,b.classList.add("catalog-movie-poster");const B=document.createElement("div");B.classList.add("catalog-movie-info");const _=document.createElement("h2");_.textContent=d.title,_.classList.add("catalog-movie-title");const q=document.createElement("div");q.classList.add("catalog-movie-details-rating");const H=document.createElement("p"),F=d.genre_ids.map(J=>c[J]||"Unknown").filter(Boolean);H.textContent=`${F[0]}, ${F[1]} | ${d.release_date.split("-")[0]}`,H.classList.add("catalog-movie-details");const D=document.createElement("p");D.innerHTML=$(d.vote_average),D.classList.add("catalog-movie-rating"),B.appendChild(_),q.appendChild(H),q.appendChild(D),B.appendChild(q),L.appendChild(b),L.appendChild(B),f.appendChild(L)});const y=document.querySelectorAll(".catalog-movie-card"),M=document.querySelector(".popup-section-container"),C=document.querySelector("body");y.forEach(d=>{d.addEventListener("click",L=>{const b=Number(L.currentTarget.dataset.movieId);U(b),M.classList.remove("hidden"),C.style.overflow="hidden";const B=P(b);T(B,b)})})}function S(){if(!s)return;v.innerHTML="";const p=3,y=1;if(I(1),t>y+2){const d=document.createElement("span");d.textContent="...",v.appendChild(d)}const M=Math.max(2,t-Math.floor(p/2)),C=Math.min(g-1,t+Math.floor(p/2));for(let d=M;d<=C;d++)I(d);if(t<g-y-1){const d=document.createElement("span");d.textContent="...",v.appendChild(d)}g>1&&I(g),w.disabled=t===1,u.disabled=t===g}async function I(p){const y=document.createElement("button");y.textContent=p,y.classList.add("page-number"),p===t&&y.classList.add("active"),y.addEventListener("click",async()=>{t=p,await h(t,i,e),S()}),v.appendChild(y)}s&&(w.addEventListener("click",async()=>{t>1&&(t--,await h(t),S())}),u.addEventListener("click",async()=>{t<g&&(t++,await h(t),S())}),document.getElementById("movieName").addEventListener("input",()=>{const p=document.getElementById("movieYear");p.innerHTML="",l.style.display="none",e=""}),k.addEventListener("click",async()=>{try{i=document.getElementById("movieName").value,e=document.getElementById("movieYear").value||"";const p=async(M,C="")=>await h(1,M,C);s&&S();const y=await p(i,e);if(y.results.length===0?l.style.display="none":l.style.display="block",Array.isArray(y.results)){if(!e){const M=y.results.map(L=>L.release_date?new Date(L.release_date).getFullYear():null).filter(L=>L!==null),C=[...new Set(M)].sort((L,b)=>L-b),d=document.getElementById("movieYear");d.innerHTML===""&&C.forEach(L=>{const b=document.createElement("option");b.value=L,b.text=L,d.appendChild(b)})}}else console.error("Beklenmeyen sonuç: movies bir dizi değil")}catch(p){console.error("Film verilerini işlerken hata:",p)}}));async function x(){await r(),await h()}x()}function W(){console.log("upcoming sayfasinin js i calisti");const n="3e7bd78082a78694a13d5e52c5addee0",o=`https://api.themoviedb.org/3/movie/upcoming?api_key=${n}&language=en-US`,a=`https://api.themoviedb.org/3/genre/movie/list?api_key=${n}&language=en-US`,i=document.getElementById("movie-poster"),e=document.getElementById("movie-title"),m=document.getElementById("release-date"),s=document.getElementById("vote-average"),f=document.getElementById("vote-count"),w=document.getElementById("popularity"),u=document.getElementById("genres"),v=document.getElementById("overview");let k={};fetch(a).then(t=>t.json()).then(t=>{t.genres.forEach(c=>{k[c.id]=c.name}),fetch(o).then(c=>c.json()).then(c=>{const g=c.results;if(g.length>0){const r=g[Math.floor(Math.random()*g.length)];l(r)}else document.querySelector(".upcoming__title").textContent="No upcoming movies this month"}).catch(c=>console.error("Error fetching movies:",c))}).catch(t=>console.error("Error fetching genres:",t));function l(t){i.src=`https://image.tmdb.org/t/p/original/${t.backdrop_path}`,i.alt=t.title,e.textContent=t.title,m.textContent=t.release_date,s.textContent=t.vote_average,f.textContent=t.vote_count,w.textContent=t.popularity,u.textContent=t.genre_ids.map(c=>k[c]).join(", "),t.overview&&t.overview.trim()!==""?v.textContent=t.overview:v.textContent="No overview available for this movie.",V(t.id)}}function j(){console.log("footer sayfasinin js i calisti")}function Y(){document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("theme-toggle"),o=localStorage.getItem("theme")||"light-theme";document.body.classList.add(o),n.addEventListener("click",()=>{document.body.classList.toggle("light-theme"),document.body.classList.toggle("dark-theme");const a=document.body.classList.contains("dark-theme")?"dark-theme":"light-theme";localStorage.setItem("theme",a)})})}function Q(){const n=JSON.parse(localStorage.getItem("myLibrary"))||[];let o=[],a=[];const i=document.querySelector("#catalog-movie-gallery"),e=document.querySelector(".load-more-button"),m="https://image.tmdb.org/t/p/w500";let s=0;const f=9,w=async()=>{try{const l=n.map(async t=>{const c=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=3e7bd78082a78694a13d5e52c5addee0&language=en-US`);if(!c.ok)throw new Error("API request failed");return c.json()});o=await Promise.all(l),a=o,u(),k(o)}catch(l){console.error("Error fetching films:",l)}};function u(){a.slice(s,s+f).forEach(t=>{const c=v(t);i.appendChild(c)}),s+=f,s>=a.length?e.classList.add("hidden"):e.classList.remove("hidden")}function v(l){const t=document.createElement("div");t.classList.add("catalog-movie-card"),t.dataset.movieId=l.id;const c=document.createElement("img");c.src=m+l.poster_path,c.alt=l.title,c.classList.add("catalog-movie-poster");const g=document.createElement("div");g.classList.add("catalog-movie-info");const r=document.createElement("h2");r.textContent=l.title,r.classList.add("catalog-movie-title");const h=document.createElement("div");h.classList.add("catalog-movie-details-rating");const E=document.createElement("p"),S=l.genres.map(x=>x.name);E.textContent=`${S[0]}, ${S[1]} | ${l.release_date.split("-")[0]}`,E.classList.add("catalog-movie-details");const I=document.createElement("p");return I.innerHTML=$(l.vote_average),I.classList.add("catalog-movie-rating"),g.appendChild(r),h.appendChild(E),h.appendChild(I),g.appendChild(h),t.appendChild(c),t.appendChild(g),t.addEventListener("click",()=>{U(l.id),document.querySelector(".popup-section-container").classList.remove("hidden"),document.body.style.overflow="hidden";const x=P(l.id);T(x,l.id)}),t}function k(l){const t=document.getElementById("film-category"),c=new Set;l.forEach(g=>{g.genres.forEach(r=>{c.add(r.name)})}),c.forEach(g=>{const r=document.createElement("option");r.value=g,r.innerText=g,t.appendChild(r)}),t.addEventListener("change",g=>{const r=g.target.value;i.innerHTML="",s=0,r===""?a=o:a=o.filter(h=>h.genres.some(E=>E.name===r)),u()})}e.addEventListener("click",u),n.length>0?w():console.log("Library is empty")}window.location.pathname==="/catalog.html"&&(O(),N(),G(),j(),Y());window.location.pathname==="/mylibrary.html"&&(O(),N(),j(),Y(),Q());window.location.pathname==="/"&&(O(),N(),W(),G(),j(),Y());
//# sourceMappingURL=main-BQ_IVjgP.js.map
